{% extends "/common/base.html" %}

{% block content %}
{% include '/common/header.html' %}

<style>

    #commListTable {

        border-collapse: collapse;
        width: 100%;
        border: 1px solid #ddd;
        font-size: 17px;
    }

    #commListTable th, #commListTable td {
        text-align: left;
        padding: 12px;
        font-family: Ubuntu;
    }

    #commListTable tr {
        border-bottom: 1px solid #ddd;
        font-family: Ubuntu;
        font-size: 13px;
    }

    #commListTable tr.header, #commListTable tr:hover {
        background-color: #f1f1f1;
    }


</style>

<script>


    var tournament = '{{stat_info["tournament"]}}';
    var tournament_msg = '{{stat_info["tournament_msg"]}}';


    var year = '{{stat_info["year"]}}';
    var year_msg = '{{stat_info["year_msg"]}}';

    function valid(str) {
        return !(!str || 0 === str.length || !str.trim());
    }

    function display_error() {

        if (valid(tournament))
            document.getElementById("Tournament").value = format;
        if (valid(year))
            document.getElementById("Year").value = gender;


        if (valid(tournament_msg))
            document.getElementById("Tournament_msg").innerText = tournament_msg;
        if (valid(year_msg))
            document.getElementById("Year_msg").innerText = year_msg;
    }

    function change_option() {
        var Tournament_element = document.getElementById("Tournament")
        var Year_element = document.getElementById("Year")

        Year_element.innerHTML = ""

        if(Tournament_element.value=="BPL")
        {
            var optionArray = ["Choose...","2017","2016","2015","2013","2012"]
        }
        else if(Tournament_element.value=="IPL")
        {
            var optionArray = ["Choose...","2018","2017","2016","2015","2014","2013","2012","2011"]
        }
        else if(Tournament_element.value=="BBL")
        {
            var optionArray = ["Choose...","2018-19","2017-18","2016-17","2015-16","2014-15","2013-14","2012-13"]
        }
        else if(Tournament_element.value=="PSL")
        {
            var optionArray = ["Choose...","2018","2017","2016"]
        }
        else if(Tournament_element.value=="CPL")
        {
            var optionArray = ["Choose...","2018","2017","2016","2015","2014","2013"]
        }
        for (var i =0;i<optionArray.length;i++){
            var option = optionArray[i];
            var newOption = document.createElement("option");
            newOption.value = option;
            newOption.innerHTML = option;
            Year_element.options.add(newOption);
        }


    }
</script>


<div align="center">

    <div style="width: 70%">


        <h2 class="page-header"> T20 Tournament Statistics and Data Visualization</h2>
        <br/>
        <form action="/show_stats" method="POST" style="width: 30%">
            <div class="form-group" style="width: 130%">
                <label for="format">Tournament</label>
                <select id="Tournament" onchange="change_option()" class="custom-select mb-2 mr-sm-2 mb-sm-0" id="format" name="format">
                    <option selected>Choose...</option>
                    <option value="BPL">BPL - Bangladesh Premier League</option>
                    <option value="IPL">IPL - Indian Premier League</option>
                    <option value="BBL">BBL - Big Bash League</option>
                    <option value="PSL">PSL - Pakistan Super League</option>
                    <option value="CPL">CPL - Caribbean Premier League</option>
                </select>
                <span id="Tournament_msg" style="font-size: small;color: red"></span>
            </div>
            <div class="form-group" style="width: 130%">
                <label for="gender">Choose Year</label>
                <select id="Year" class="custom-select mb-2 mr-sm-2 mb-sm-0" id="gender" name="gender">
                    <option selected>Choose...</option>
                </select>
                <span id="Year_msg" style="font-size: small;color: red"></span>
            </div>
            <br/>
            <div class="form-group">
                <input type="submit" class="btn btn-dark btn-lg" value="Show Ranking">
            </div>

        </form>

    </div>
</div>
<br/>
<br/>
{% include '/common/footer.html' %}
{% include '/common/footer-social.html' %}
{% endblock %}
